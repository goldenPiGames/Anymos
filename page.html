<!DOCTYPE html>
<html>
	<head>
		<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
		<meta content="utf-8" http-equiv="encoding">
		<title>Anymos</title>
		<link rel="shortcut icon" type="image/png" href="favicon.png">
		<link rel="stylesheet" type="text/css" href="pagestyle.css">
		
		<script type="text/javascript" src="src/controlInfo.js"></script>
	</head>
	<body>
		<div id="GameBox">
			<iframe id="Game" title="Game" width="1200" height="900" src="index.html"></iframe>
		</div>
		<div id="Text">
			<div id="Links">
				<a href="mobile.html">Play the game with mobile touchscreen controls</a>
			</div>
			<div id="Controls">
				<h2>Controls</h2>
				<table id="controltable">
					<tr>
						<th>Game</th>
						<th>Keyboard</th>
						<th>Gamepad</th>
					</tr>
					<tr id="contmenuLeft">
						<td>menuLeft</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contmenuRight">
						<td>menuRight</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contmenuUp">
						<td>menuUp</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contmenuDown">
						<td>menuDown</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contselect">
						<td>select</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contcancel">
						<td>cancel</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contleft">
						<td>left</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contright">
						<td>right</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contup">
						<td>up</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contdown">
						<td>down</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contjump">
						<td>jump</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contattack">
						<td>attack</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contshoot">
						<td>shoot</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contcrouch">
						<td>crouch</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contspecial">
						<td>special</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="continteract">
						<td>interact</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contzoomOut">
						<td>zoomOut</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contzoomIn">
						<td>zoomIn</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contpause">
						<td>pause</td>
						<td></td>
						<td></td>
					</tr>
					<tr id="contrestart">
						<td>restart</td>
						<td></td>
						<td></td>
					</tr>
				</table>
			</div>
		</div>
		<script>
			var igame = document.getElementById("Game");
			
			function receiveMessage(e) {
				console.log(e.data);
				if (e.data.what == "controls") {
					COMMAND_LIST.forEach(com => {
						var row = document.getElementById("cont"+com);
						if (row) {
							row.children[1].innerHTML = KEY_NAMES[e.data.keyboard[com]];
							row.children[2].innerHTML = GAMEPAD_BUTTON_NAMES[e.data.gamepad[com]] || "";
						}
					});
				}
			}
			window.addEventListener("message", receiveMessage, false);
		</script>
	</body>
</html>